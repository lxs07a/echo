(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e){e.exports={backendUrl:"http://localhost:8080"}},16:function(e){e.exports=[{name:"Art",text:"Art's account added admin access applications, allowing additional advertisement adds, advertising awareness.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/art.mp3",targetedletters:["a"]},{name:"Barry",text:"Baby brown Barry bear brought baby Brian beaver big bright blue berries before baby Brenda beaver brought bark.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/barry.mp3",targetedletters:["b"]},{name:"Beer",text:"Ben bought Betty butter beer, but Betty thought the butter beer was bitter, Ben better butter up Betty by buying Betty better butter beer.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/beer.mp3",targetedletters:["b"]},{name:"Boar",text:"A boring boar bores boards in Bora Bora.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/boar.mp3",targetedletters:["b"]},{name:"Cassidy",text:"Cassidy's computer capacity can cause concerns constantly collecting cookies.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/cassidy.mp3",targetedletters:["c"]},{name:"Cheese",text:"Chuck chuckled when Chase chose a chunk of cheap cheddar cheese.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/cheese.mp3",targetedletters:["ch"]},{name:"Clowns",text:"The clever clowns club claims clean coal.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/clowns.mp3",targetedletters:["c"]},{name:"Dessert",text:"During a desert dinner, Danner didn't dare devour Donna's double Dutch dark cacao dessert.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/dessert.mp3",targetedletters:["d"]},{name:"Donald",text:"Dorky Donald dumps DACA deports dreamers, dams diversity development and delights dopy delusional donkeys.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/donald.mp3",targetedletters:["d"]},{name:"Dude",text:"Dude, did Dug's deaf dog dig dad's dyke?",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/dude.mp3",targetedletters:["d"]},{name:"Eddie",text:"Every Easter, Eddie eagerly eats eighty elegant Easter eggs.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/eddie.mp3",targetedletters:["e"]},{name:"Elephant",text:"Elegantly evading every element, Eddie elephant ended envying every element.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/elephant.mp3",targetedletters:["e"]},{name:"Fellows",text:"Fisher fried four fine fresh fish for four friendly famished fellows.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/fellows.mp3",targetedletters:["f"]},{name:"Fisher",text:"Fisherman Fisher, was fishing for fish in the fissure, feeling fatigued, Fisher fell in the fissure, now friends of fisherman Fisher fish for Fisher.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/fisher.mp3",targetedletters:["f"]},{name:"Food",text:"Fit or fat, furiously fun food fights.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/food.mp3",targetedletters:["f"]},{name:"Freddy fox",text:"Freddy fox found five friendly fruit flies frantically fearing four famished frogs.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/freddyfox.mp3",targetedletters:["f"]},{name:"Frida",text:"Frida flew face first, forty feet from frog fright, fracturing four fingers.",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/frida.mp3",targetedletters:["l"]},{name:"Lulu",text:"Lulu lama loves lemon lime leaves",audiopath:"https://s3-us-west-1.amazonaws.com/devlyuda/lulu.mp3",targetedletters:["l"]}]},21:function(e,t,a){},28:function(e,t,a){e.exports=a.p+"static/media/logo.48054d38.svg"},30:function(e,t,a){e.exports=a(67)},59:function(e,t,a){},61:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(27),o=a.n(r),l=(a(21),a(3)),c=a(4),i=a(6),u=a(5),m=a(7),d=a(2),p=a(12),h=a.n(p),g=a(71),b=a(16),f=a(17),v=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={username:"",password:"",confirmPassword:""},e.handleSubmit=e.handleSubmit.bind(Object(d.a)(Object(d.a)(e))),e.handleChange=e.handleChange.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;console.log("sign-up handleSubmit, username: "),console.log(this.state.username),e.preventDefault(),h.a.post("/user/",{username:this.state.username,password:this.state.password}).then(function(e){console.log(e),e.data.errmsg?console.log("username already taken"):(console.log("successful signup"),t.setState({redirectTo:"/login"}))}).catch(function(e){console.log("signup error: "),console.log(e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"SignupForm"},s.a.createElement("h4",null,"Sign up"),s.a.createElement("form",{className:"form-horizontal"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"col-1 col-ml-auto"},s.a.createElement("label",{className:"form-label",htmlFor:"username"},"Username")),s.a.createElement("div",{className:"col-3 col-mr-auto"},s.a.createElement("input",{className:"form-input",type:"text",id:"username",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"col-1 col-ml-auto"},s.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password: ")),s.a.createElement("div",{className:"col-3 col-mr-auto"},s.a.createElement("input",{className:"form-input",placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),s.a.createElement("div",{className:"form-group "},s.a.createElement("div",{className:"col-7"}),s.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.handleSubmit,type:"submit"},"Sign up"))))}}]),t}(n.Component),E=a(69),w=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={username:"",password:"",redirectTo:null},e.handleSubmit=e.handleSubmit.bind(Object(d.a)(Object(d.a)(e))),e.handleChange=e.handleChange.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("handleSubmit"),h.a.post("/user/login",{username:this.state.username,password:this.state.password}).then(function(e){console.log("login response: "),console.log(e),200===e.status&&(t.props.updateUser({loggedIn:!0,username:e.data.username}),t.setState({redirectTo:"/"}))}).catch(function(e){console.log("login error: "),console.log(e)})}},{key:"render",value:function(){return this.state.redirectTo?s.a.createElement(E.a,{to:{pathname:this.state.redirectTo}}):s.a.createElement("div",null,s.a.createElement("h4",null,"Login"),s.a.createElement("form",{className:"form-horizontal"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"col-1 col-ml-auto"},s.a.createElement("label",{className:"form-label",htmlFor:"username"},"Username")),s.a.createElement("div",{className:"col-3 col-mr-auto"},s.a.createElement("input",{className:"form-input",type:"text",id:"username",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"col-1 col-ml-auto"},s.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password: ")),s.a.createElement("div",{className:"col-3 col-mr-auto"},s.a.createElement("input",{className:"form-input",placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),s.a.createElement("div",{className:"form-group "},s.a.createElement("div",{className:"col-7"}),s.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.handleSubmit,type:"submit"},"Login"))))}}]),t}(n.Component),y=a(68),j=a(28),O=a.n(j),N=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).logout=e.logout.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(e){var t=this;e.preventDefault(),console.log("logging out"),h.a.post("/user/logout").then(function(e){console.log(e.data),200===e.status&&t.props.updateUser({loggedIn:!1,username:null})}).catch(function(e){console.log("Logout error")})}},{key:"render",value:function(){var e=this.props.loggedIn;return console.log("navbar render, props: "),console.log(this.props),s.a.createElement("div",null,s.a.createElement("header",{className:"navbar App-header d-flex flex-row",id:"nav-container"},s.a.createElement("section",{className:"navbar-section mr-auto p-2"},s.a.createElement(y.a,{to:"/",className:"btn btn-link text-secondary"},s.a.createElement("img",{src:O.a,className:"App-logo",alt:"logo"}),s.a.createElement("span",{className:"text-secondary"},s.a.createElement("strong",null,"EcHo")))),e?s.a.createElement("section",{className:"navbar-section ml-auto p-2"},s.a.createElement(y.a,{to:"#",className:"btn btn-link text-secondary",onClick:this.logout},s.a.createElement("span",{className:"text-secondary"},"logout"),s.a.createElement("svg",{className:"jss075",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},s.a.createElement("path",{fill:"#A9B7B7",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),s.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})))):s.a.createElement("section",{className:"navbar-section ml-auto p-2"},s.a.createElement(y.a,{to:"/login",className:"btn btn-link text-secondary"},s.a.createElement("span",{className:"text-secondary"},"log in")),s.a.createElement(y.a,{to:"/signup",className:"btn btn-link"},s.a.createElement("span",{className:"text-secondary"},"sign up")))))}}]),t}(n.Component),k=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).call(this))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(y.a,{to:"/primarylist",className:"btn twistit"},s.a.createElement("span",null,"twist it")))}}]),t}(n.Component),C=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.loggedIn;return s.a.createElement("div",{className:"container"},e?s.a.createElement(y.a,{to:"/itempage/"+this.props.name,name:this.props.name,username:this.props.username,audiopath:this.props.audiopath},s.a.createElement("div",{className:"row track-item"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("p",null,this.props.name),s.a.createElement("audio",{controls:!0,controlsList:"nodownload"},s.a.createElement("source",{src:this.props.audiopath,type:"audio/mpeg"}),"the browser is freaking out")))):s.a.createElement("div",{className:"row track-item"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("p",null,this.props.name),s.a.createElement("audio",{controls:!0,controlsList:"nodownload"},s.a.createElement("source",{src:this.props.audiopath,type:"audio/mpeg"}),"the browser is freaking out"))))}}]),t}(n.Component),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={audios:b,search:""},a.handleChange=function(e){a.setState({search:e.target.value})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.audios.filter(function(t){return t.name.toLowerCase().includes(e.state.search.toLowerCase())}).map(function(t){return s.a.createElement(C,{name:t.name,audiopath:t.audiopath,loggedIn:e.props.loggedIn,username:e.props.username})});return s.a.createElement("div",{className:"App columns"},s.a.createElement("section",{className:"audioboxes column"},s.a.createElement("br",null),s.a.createElement("h1",null,s.a.createElement("b",null,"Tongue Twisters")),s.a.createElement("br",null),s.a.createElement("span",null,"Search tongue twisters: "),s.a.createElement("input",{onChange:this.handleChange,name:"search",placeholder:this.state.search}),t))}}]),t}(n.Component),S=a(29),z=(a(59),a(15)),B=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=new Date(this.props.timedate).toLocaleString();return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row track-item"},s.a.createElement("div",{className:"col-lg-8"},s.a.createElement("p",null,e),s.a.createElement("audio",{controls:!0,controlsList:"nodownload"},s.a.createElement("source",{src:"".concat(z.backendUrl,"/uploads/")+this.props.audiopath}),"the browser is freaking out"))))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).startRecording=function(){a.setState({record:!0,button2active:"active",button1active:""})},a.stopRecording=function(){a.setState({record:!1,button1active:"active",button2active:""})},a.state={username:a.props.username,record:!1,button1active:"active",button2active:"",recordings:[]},a.onStop=a.onStop.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.post("".concat(z.backendUrl,"/audio/recordings"),{username:this.props.username,audioname:this.props.audioObject[0].name,withCredentials:!0}).then(function(t){if(console.log("list of recordings from backend is "+t),200===t.status){var a=e.state.recordings;a=t.data,console.log("usersRecordings is "+a),e.setState({recordings:a})}}).catch(function(e){console.log(e)})}},{key:"onStop",value:function(e){var t=this,a=new FormData;a.append("upl",e.blob),a.append("author",this.props.username),a.append("name",this.props.audioObject[0].name),a.append("withCredentials",!0),h.a.post("".concat(z.backendUrl,"/audio/itempage"),a).then(function(e){if(console.log("recording sent to backend "),console.log("response is "+e),200===e.status){var a=t.state.recordings;a.push(e.data),console.log("newRecordings is "+a),t.setState({recordings:a}),console.log("this.state.recordings is "+t.state.recordings)}}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state.recordings.map(function(e){return s.a.createElement(B,{timedate:e.timedate,audiopath:e.audiopath})});return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row track-item"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("h5",null,s.a.createElement("strong",null,this.props.audioObject[0].name)),s.a.createElement("p",null,this.props.audioObject[0].text),s.a.createElement("audio",{controls:!0,controlsList:"nodownload"},s.a.createElement("source",{src:this.props.audioObject[0].audiopath,type:"audio/mpeg"}),"the browser is freaking out")),s.a.createElement("h5",null,"Your ",this.props.audioObject[0].name),e,s.a.createElement("div",null,s.a.createElement(S.a,{record:this.state.record,className:"sound-wave",onStop:this.onStop,strokeColor:"#000000",backgroundColor:"#FF4081"}),s.a.createElement("div",null,s.a.createElement("div",{className:"buttondiv"},s.a.createElement("button",{className:"micbutton ".concat(this.state.button1active),onClick:this.startRecording,type:"button"},s.a.createElement("div",null,s.a.createElement("div",{className:"insidemicbutton"},s.a.createElement("svg",{className:"mic",viewBox:"0 0 24 24"},s.a.createElement("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})))))),s.a.createElement("div",{className:"buttondiv"},s.a.createElement("button",{className:"micbutton ".concat(this.state.button2active),onClick:this.stopRecording,type:"button"},s.a.createElement("div",null,s.a.createElement("div",{className:"insidemicbutton"},s.a.createElement("svg",{className:"mic",viewBox:"0 0 24 24"},s.a.createElement("path",{d:"M6 6h12v12H6z"}))))))))))}}]),t}(n.Component),U=(a(61),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={loggedIn:!1,username:null,audios:b},e.getUser=e.getUser.bind(Object(d.a)(Object(d.a)(e))),e.componentDidMount=e.componentDidMount.bind(Object(d.a)(Object(d.a)(e))),e.updateUser=e.updateUser.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"updateUser",value:function(e){this.setState(e)}},{key:"getUser",value:function(){var e=this;h.a.get("/user/").then(function(t){console.log("Get user response: "),console.log(t.data),t.data.user?(console.log("Get User: There is a user saved in the server session: "),e.setState({loggedIn:!0,username:t.data.user.username})):(console.log("Get user: no user"),e.setState({loggedIn:!1,username:null}))})}},{key:"render",value:function(){var e=this;this.state;return s.a.createElement("div",{className:"App"},s.a.createElement(N,{updateUser:this.updateUser,loggedIn:this.state.loggedIn}),this.state.loggedIn&&s.a.createElement("p",null,"Ready to twist your tongue, ",this.state.username,"?"),s.a.createElement(g.a,{exact:!0,path:"/",component:k}),s.a.createElement(g.a,{path:"/login",render:function(){return s.a.createElement(w,{updateUser:e.updateUser})}}),s.a.createElement(g.a,{path:"/signup",render:function(){return s.a.createElement(v,{signup:e.signup})}}),s.a.createElement(g.a,{path:"/primarylist",render:function(t){return s.a.createElement(x,{loggedIn:e.state.loggedIn,username:e.state.username})}}),s.a.createElement(g.a,{path:"/itempage/:name",render:function(t){var a=e.state.audios.filter(function(e){return e.name===t.match.params.name});return s.a.createElement(F,{audioObject:a,username:e.state.username})}}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(70);a(63),a(65);o.a.render(s.a.createElement(D.a,null,s.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,2,1]]]);
//# sourceMappingURL=main.59bf5516.chunk.js.map